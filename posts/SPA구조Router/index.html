<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="[Blazor] SPA구조, Router" /><meta name="author" content="define_chan" /><meta property="og:locale" content="ko" /><meta name="description" content="SPA(Single Page Application)" /><meta property="og:description" content="SPA(Single Page Application)" /><link rel="canonical" href="https://eucha09.github.io//posts/SPA%EA%B5%AC%EC%A1%B0Router/" /><meta property="og:url" content="https://eucha09.github.io//posts/SPA%EA%B5%AC%EC%A1%B0Router/" /><meta property="og:site_name" content="define_chan" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-29T13:01:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Blazor] SPA구조, Router" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@define_chan" /><meta name="google-site-verification" content="8Aw6qmMaoaUvWt_-gVDxdtZWOBsEqBbkU2T_AuLtrHA" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"define_chan"},"dateModified":"2022-03-31T15:05:59+09:00","datePublished":"2022-03-29T13:01:00+09:00","description":"SPA(Single Page Application)","headline":"[Blazor] SPA구조, Router","mainEntityOfPage":{"@type":"WebPage","@id":"https://eucha09.github.io//posts/SPA%EA%B5%AC%EC%A1%B0Router/"},"url":"https://eucha09.github.io//posts/SPA%EA%B5%AC%EC%A1%B0Router/"}</script><title>[Blazor] SPA구조, Router | define_chan</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="define_chan"><meta name="application-name" content="define_chan"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar/profile2.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">define_chan</a></div><div class="site-subtitle font-italic">찬이의 개발노트</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/eucha09" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['euchan5791','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[Blazor] SPA구조, Router</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Blazor] SPA구조, Router</h1><div class="post-meta text-muted"><div> By <em> <a href="https://eucha09.github.io/about/">define_chan</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-03-29 13:01:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Tue, Mar 29, 2022, 1:01 PM +0900" >Mar 29</em> </span> <span> Updated <em class="timeago" date="2022-03-31 15:05:59 +0900 " data-toggle="tooltip" data-placement="bottom" title="Thu, Mar 31, 2022, 3:05 PM +0900" >Mar 31</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1780 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><h2 id="spasingle-page-application"><strong>SPA(Single Page Application)</strong> <a href="#spasingle-page-application" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p><strong>SPA(Single Page Application)</strong>는 <strong>서버로부터 완전한 새로운 페이지를 불러오지 않고 현재의 페이지를 동적으로 다시 작성</strong>함으로써 사용자와 소통하는 웹 애플리케이션을 말한다.</p><p><img data-src="/assets/img/posts/webserver/SPA.png" alt="SPA" width="500" data-proofer-ignore> <em>SPA</em></p><p>이전의 전통적인 방식에서는 처음 웹홈페이지에 접속하면 서버에서는 그에 맞는 HTML 정보를 전달해준다. 그러고 다른 페이지에 들어간다거나 하면 서버에 요청해 또 그에 맞는 HTML 정보를 받는다. 그렇다보니 동일한 데이터도 계속 받게되는 일이 발생하게 된다.</p><p>예를 들어 웹사이트에서 보통 다른 페이지로 이동할 때 상단 바 또는 사이드 메뉴는 바뀌지 않는 경우가 많은데 이러한 부분들도 매번 똑같은 데이터를 받고 Reload를 하는 것이다.</p><p>그러나 SPA 방식에서는 처음 접속할때만 서버로부터 필요한 HTML 정보들을 받고 이후에는 AJAX를 통해 데이터만 요청하고 받아 클라이언트에서 렌더링하여 사용자에게 보여준다. 쉽게 말해 변하는 내용 부분만 따로 받고 렌더링해서 보여준다는 것이다.</p><ul><li>AJAX(Asynchronous Javascript And XML) - Javascript 비동기 통신, XML 데이터를 주고 받는 기술</ul><h2 id="blazor-구조"><strong>Blazor 구조</strong> <a href="#blazor-구조" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p><a href="https://eucha09.github.io/posts/HelloBlazorServer/">HelloBlazorServer</a></p><p>앞 포스트에서 Blazor Server 구조에 대해 코드를 따라가보는 방식으로 간단하게 살펴보았는데 이번엔 위 SPA 개념을 이해한채로 좀 더 자세히 뜯어보는 방식으로 살펴보겠다.</p><p>위 SPA 개념에 따르면 어떤 틀이 있고 그 틀안에 내용만 계속 바뀐다는 것인데 Blazor Server 프로젝트를 생성해 그냥 실행시켜보면 중앙 컨텐츠 부분은 페이지 이동에 따라 계속 바뀌지만 위 옆 사이드 부분은 바뀌지 않는 것을 볼 수 있을 것이다.</p><p>그렇다면 그 틀은 어디서 정의해주고 있는 것일까.</p><p>결론부터 말하자면 Shared 폴더 안 MainLayout.razor 파일에서 정의해주고 있다.</p><h3 id="layout"><strong>Layout</strong> <a href="#layout" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p><strong>MainLayout.razor</strong></p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>@inherits LayoutComponentBase

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sidebar"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;NavMenu</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"main"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"top-row px-4"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://docs.microsoft.com/aspnet/"</span> <span class="na">target=</span><span class="s">"_blank"</span><span class="nt">&gt;</span>About<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content px-4"</span><span class="nt">&gt;</span>
        @Body
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></table></code></div></div><p>MainLayout.razor에 가보면 첫줄부터 이미 다른 Razor Component들과 다르게 LayoutComponentBase를 상속받고 있는 것을 볼 수 있다.</p><p>상속받고 있는 LayoutComponentBase 이름만 봐도 Layout 관련 Component임을 짐작해볼 수 있을 것이다. LayoutComponentBase를 세부적으로 열어보면 아래와 같이 되어 있다.</p><p><strong>LayoutComponentBase</strong></p><div class="language-cs highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">namespace</span> <span class="nn">Microsoft.AspNetCore.Components</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">LayoutComponentBase</span> <span class="p">:</span> <span class="n">ComponentBase</span>
    <span class="p">{</span>
        <span class="k">protected</span> <span class="nf">LayoutComponentBase</span><span class="p">();</span>

        <span class="p">[</span><span class="n">Parameter</span><span class="p">]</span>
        <span class="k">public</span> <span class="n">RenderFragment</span> <span class="n">Body</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>LayoutComponentBase 내부를 살펴보면 Parameter를 통해 RenderFragment형태로 Body를 받고 있는 것을 볼 수 있다. 그리고 다시 MainLayout.razor로 돌아가보면 @Body로 사용하고 있는 것을 볼 수 있다.</p><p>여기까지를 통해 알 수 있는 것은 공통적인 Layout부분은 MainLayout.razor로 만들어 놓았고 그 안에 담길 컨텐츠부분은 Parameter로 받아 표현되고 있다는 것이다.</p><p>참고로 당연히 다른 Layout을 만들어 볼수도 있다.</p><p>Shared 폴더에 Razor Component를 새로 생성해보고 이름은 Layout2라고 지어보자. 그리고 내용은 일단 MainLayout.razor를 그대로 복사해오고 원래 Layout과 구분해주기 위해 About 문자 부분만 Layout2라고 수정해놓자.</p><p><strong>Layout2.razor</strong></p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>@inherits LayoutComponentBase

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sidebar"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;NavMenu</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"main"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"top-row px-4"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://docs.microsoft.com/aspnet/"</span> <span class="na">target=</span><span class="s">"_blank"</span><span class="nt">&gt;</span>Layout2<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content px-4"</span><span class="nt">&gt;</span>
        @Body
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></table></code></div></div><p>그 다음 Counter 페이지만 Layout2를 적용시켜보자. Counter.razor에 가서 아래와 같이 @layout Layout2 만 넣어주면 된다.</p><p><strong>Counter.razor</strong></p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>@page "/counter"
@layout Layout2

<span class="nt">&lt;h1&gt;</span>Counter<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>Current count: @currentCount<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span> <span class="err">@</span><span class="na">onclick=</span><span class="s">"IncrementCount"</span><span class="nt">&gt;</span>Click me<span class="nt">&lt;/button&gt;</span>

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }
}
</pre></table></code></div></div><p>실행시켜보면 Counter 페이지만 Layout2로 적용된 것을 볼 수 있다. 그렇다면 나머지 다른 페이지들은 기본적으로 MainLayout을 적용받고 있다는 것인데 그에 대한 설정은 어디서 해주고 있는 것일까. <br /> 바로 App.razor에서 해주고 있다. App.razor에 가보면 DefaultLayout을 MainLayout으로 설정해주고 있는 것을 볼 수 있다.</p><p><strong>App.razor</strong></p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="nt">&lt;Router</span> <span class="na">AppAssembly=</span><span class="s">"@typeof(Program).Assembly"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Found</span> <span class="na">Context=</span><span class="s">"routeData"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;RouteView</span> <span class="na">RouteData=</span><span class="s">"@routeData"</span> <span class="na">DefaultLayout=</span><span class="s">"@typeof(MainLayout)"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Found&gt;</span>
    <span class="nt">&lt;NotFound&gt;</span>
        <span class="nt">&lt;LayoutView</span> <span class="na">Layout=</span><span class="s">"@typeof(MainLayout)"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;p&gt;</span>Sorry, there's nothing at this address.<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/LayoutView&gt;</span>
    <span class="nt">&lt;/NotFound&gt;</span>
<span class="nt">&lt;/Router&gt;</span>
</pre></table></code></div></div><p>추가적으로 현재 프로젝트에 _Imports.razor 파일이 있을 것인데 Pages 폴더 안에 똑같은 이름으로 _Imports.razor를 생성하고 안에 @layout Layout2 을 넣은 뒤 실행시켜보면 모든 페이지가 Layout2로 적용된 것을 볼 수 있다.</p><p>_Imports.razor는 같은 폴더안에 있는 모든 Razor Component에게 다 적용되는 파일이라고 할 수 있다.</p><p>이런식으로 DefaultLayout을 지정하지 않고도 Layout을 적용시킬 수 있다.</p><p>여까지 Layout 부분에 대해 살펴보았다면 그 다음으로는 Rounter 부분에 대해 살펴보자.</p><h3 id="rounter"><strong>Rounter</strong> <a href="#rounter" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>먼저 App.razor에 가보면 Router라는 것이 나오는데</p><p><strong>App.razor</strong></p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="nt">&lt;Router</span> <span class="na">AppAssembly=</span><span class="s">"@typeof(Program).Assembly"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Found</span> <span class="na">Context=</span><span class="s">"routeData"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;RouteView</span> <span class="na">RouteData=</span><span class="s">"@routeData"</span> <span class="na">DefaultLayout=</span><span class="s">"@typeof(MainLayout)"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Found&gt;</span>
    <span class="nt">&lt;NotFound&gt;</span>
        <span class="nt">&lt;LayoutView</span> <span class="na">Layout=</span><span class="s">"@typeof(MainLayout)"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;p&gt;</span>Sorry, there's nothing at this address.<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/LayoutView&gt;</span>
    <span class="nt">&lt;/NotFound&gt;</span>
<span class="nt">&lt;/Router&gt;</span>
</pre></table></code></div></div><p><strong>Router</strong></p><div class="language-cs highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="k">namespace</span> <span class="nn">Microsoft.AspNetCore.Components.Routing</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Router</span> <span class="p">:</span> <span class="n">IComponent</span><span class="p">,</span> <span class="n">IHandleAfterRender</span><span class="p">,</span> <span class="n">IDisposable</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">Router</span><span class="p">();</span>

        <span class="p">[</span><span class="n">Parameter</span><span class="p">]</span>
        <span class="k">public</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Assembly</span><span class="p">&gt;</span> <span class="n">AdditionalAssemblies</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="p">[</span><span class="n">Parameter</span><span class="p">]</span>
        <span class="k">public</span> <span class="n">Assembly</span> <span class="n">AppAssembly</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="p">[</span><span class="n">Parameter</span><span class="p">]</span>
        <span class="k">public</span> <span class="n">RenderFragment</span><span class="p">&lt;</span><span class="n">RouteData</span><span class="p">&gt;</span> <span class="n">Found</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="p">[</span><span class="n">Parameter</span><span class="p">]</span>
        <span class="k">public</span> <span class="n">RenderFragment</span> <span class="n">NotFound</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">Attach</span><span class="p">(</span><span class="n">RenderHandle</span> <span class="n">renderHandle</span><span class="p">);</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Dispose</span><span class="p">();</span>
        <span class="k">public</span> <span class="n">Task</span> <span class="nf">SetParametersAsync</span><span class="p">(</span><span class="n">ParameterView</span> <span class="n">parameters</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>이 Router를 세부적으로 열어보면 얘 또한 Component인 것을 알 수 있다. 또한 Found랑 NotFount에 대해 태그 형식으로 작성해 주었는데 이 또한 RenderFragment형식으로 받아 주고 있는 것을 알 수 있다.</p><p>Router는 우리가 웹페이지 주소(URL)를 입력하면 해당 경로에 맞게 페이지를 찾아주는 역할을 한다. 그리고 페이지를 찾기 위해서는 각 페이지 마다 아래와 같이 경로를 지정해주어야 한다.</p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>@page "/counter"
</pre></table></code></div></div><p>추가적으로 경로를 입력할 때 ‘/counter/55’ 이런식으로 인자를 넘겨줄 수도 있는데 이는 아래와 같이 받아 사용할 수 있다.</p><p><strong>Counter.razor</strong></p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>@page "/counter"
<span class="c">&lt;!-- Route parameter --&gt;</span>
@page "/counter/{CurrentCount:int}"

<span class="nt">&lt;h1&gt;</span>Counter<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>Current count: @CurrentCount<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span> <span class="err">@</span><span class="na">onclick=</span><span class="s">"IncrementCount"</span><span class="nt">&gt;</span>Click me<span class="nt">&lt;/button&gt;</span>

@code {
    [Parameter]
    public int CurrentCount { get; set; }

    private void IncrementCount()
    {
        CurrentCount++;
    }
}

</pre></table></code></div></div><p>실행시켜 ‘/counter/57’ 이런식으로 주소를 입력해보면 Count가 57이 되어 있는 것을 볼 수 있을 것이다.</p><p>여까지 Blazor 구조와 Layout 적용 방법, Routing까지 살펴보았다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EC%9B%B9-%EC%84%9C%EB%B2%84/'>웹 서버</a>, <a href='/categories/blazor-%EC%9E%85%EB%AC%B8/'>Blazor 입문</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/blazor/" class="post-tag no-text-decoration" >Blazor</a> <a href="/tags/spa/" class="post-tag no-text-decoration" >SPA</a> <a href="/tags/rounter/" class="post-tag no-text-decoration" >Rounter</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[Blazor] SPA구조, Router - define_chan&amp;url=https://eucha09.github.io//posts/SPA%EA%B5%AC%EC%A1%B0Router/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[Blazor] SPA구조, Router - define_chan&amp;u=https://eucha09.github.io//posts/SPA%EA%B5%AC%EC%A1%B0Router/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://eucha09.github.io//posts/SPA%EA%B5%AC%EC%A1%B0Router/&amp;text=[Blazor] SPA구조, Router - define_chan" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="Eucha09/Eucha09.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Lock%EA%B8%B0%EC%B4%88/">[멀티쓰레드] Lock 기초</a><li><a href="/posts/DeadLock/">[멀티쓰레드] DeadLock</a><li><a href="/posts/ContextSwitching/">[멀티쓰레드] Context Switching</a><li><a href="/posts/SPA%EA%B5%AC%EC%A1%B0Router/">[Blazor] SPA구조, Router</a><li><a href="/posts/TemplatedComponent/">[Blazor] Templated Component</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/blazor/">Blazor</a> <a class="post-tag" href="/tags/lock/">Lock</a> <a class="post-tag" href="/tags/html/">HTML</a> <a class="post-tag" href="/tags/binding/">Binding</a> <a class="post-tag" href="/tags/css/">CSS</a> <a class="post-tag" href="/tags/deadlock/">DeadLock</a> <a class="post-tag" href="/tags/linq/">LINQ</a> <a class="post-tag" href="/tags/mvc/">MVC</a> <a class="post-tag" href="/tags/parameter/">Parameter</a> <a class="post-tag" href="/tags/race-condition/">Race Condition</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/HelloBlazorClientSPA/"><div class="card-body"> <em class="timeago small" date="2022-03-09 13:00:00 +0900" >Mar 9</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ASP.NET Core] Hello Blazor Client + SPA</h3><div class="text-muted small"><p> Blazor Blazor는 Microsoft에서 개발한 오픈소스 웹 개발 프레임워크이다. 가장 큰 특징으로는 .NET Core 기반의 C#으로 웹 앱을 개발할 수 있다. Blazor는 SPA(Single Page Application) 방식을 사용하고 서버측에서 동작하는 Blazor Server와 클라이언트측에서 동작하는 Blazor Client(...</p></div></div></a></div><div class="card"> <a href="/posts/TemplatedComponent/"><div class="card-body"> <em class="timeago small" date="2022-03-17 14:47:00 +0900" >Mar 17</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Blazor] Templated Component</h3><div class="text-muted small"><p> Templated Component Blazor Templated Component는 하나 이상의 UI 템플릿을 매개 변수로 허용한 다음, 이 매개 변수를 구성 요소 렌더링 논리의 일부로 사용할 수 있는 구성 요소이다. 쉽게 말해 어떤 UI 구조를 템플릿화하여 재사용이 용이하도록 만드는 것을 말한다. 예를 들어 아래와 같은 페이지에서 테이블 형식...</p></div></div></a></div><div class="card"> <a href="/posts/DependencyInjection/"><div class="card-body"> <em class="timeago small" date="2022-03-27 16:35:00 +0900" >Mar 27</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Blazor] Dependency Injection</h3><div class="text-muted small"><p> Dependency Injection Dependency Injection 줄여서 DI라고 하기도 하고, 우리말로는 의존성 주입이라고 하기도 한다. Dependency Injection을 제대로 이해하려면 먼저 Dependency(의존성)에 대해 이해해야한다. Dependency (의존성) 그냥 “A가 B에게 의존한다.”라고 하면 크게 와닿지 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/DependencyInjection/" class="btn btn-outline-primary" prompt="Older"><p>[Blazor] Dependency Injection</p></a> <a href="/posts/Lock%EA%B8%B0%EC%B4%88/" class="btn btn-outline-primary" prompt="Newer"><p>[멀티쓰레드] Lock 기초</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/eucha09">정의찬</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/blazor/">Blazor</a> <a class="post-tag" href="/tags/lock/">Lock</a> <a class="post-tag" href="/tags/html/">HTML</a> <a class="post-tag" href="/tags/binding/">Binding</a> <a class="post-tag" href="/tags/css/">CSS</a> <a class="post-tag" href="/tags/deadlock/">DeadLock</a> <a class="post-tag" href="/tags/linq/">LINQ</a> <a class="post-tag" href="/tags/mvc/">MVC</a> <a class="post-tag" href="/tags/parameter/">Parameter</a> <a class="post-tag" href="/tags/race-condition/">Race Condition</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script>
